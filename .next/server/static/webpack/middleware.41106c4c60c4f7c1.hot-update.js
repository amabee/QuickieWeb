"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./lib/lib.js":
/*!********************!*\
  !*** ./lib/lib.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   encrpyt: () => (/* binding */ encrpyt),\n/* harmony export */   getSession: () => (/* binding */ getSession),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   signup: () => (/* binding */ signup),\n/* harmony export */   updateSession: () => (/* binding */ updateSession)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(middleware)/./node_modules/next/dist/esm/api/headers.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/browser/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/browser/jwt/verify.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ \"(middleware)/./node_modules/axios/lib/axios.js\");\n\"use server\";\n\n\n\n\nconst AUTH_ENDPOINT = process.env.AUTH_URL;\nconst secretKey = process.env.SECRET_KEY;\nconst key = new TextEncoder().encode(secretKey);\nasync function encrpyt(item) {\n    return await new jose__WEBPACK_IMPORTED_MODULE_2__.SignJWT(item).setProtectedHeader({\n        alg: \"HS256\"\n    }).setIssuedAt().setExpirationTime(\"1d\").sign(key);\n}\nasync function decrypt(input) {\n    const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_3__.jwtVerify)(input, key, {\n        algorithms: [\n            \"HS256\"\n        ]\n    });\n    return payload;\n}\nasync function login(username, password) {\n    try {\n        const res = await axios__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(AUTH_ENDPOINT, {\n            params: {\n                operation: \"login\",\n                json: JSON.stringify({\n                    username: username,\n                    password: password\n                })\n            }\n        });\n        if (res.status === 200) {\n            if (res.data !== null && res.data.success) {\n                const userData = {\n                    firstname: res.data.success.firstname,\n                    lastname: res.data.success.lastname,\n                    email: res.data.success.email,\n                    username: res.data.success.username,\n                    user_id: res.data.success.user_id,\n                    image: res.data.success.profile_image\n                };\n                const expiration = new Date(Date.now() + 150 * 60 * 1000);\n                const session = await encrpyt({\n                    user: userData,\n                    expiration\n                });\n                (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().set(\"session\", session, {\n                    expires: expiration,\n                    httpOnly: true\n                });\n                return {\n                    success: true,\n                    message: \"Login successful\"\n                };\n            } else {\n                return {\n                    success: false,\n                    message: JSON.stringify(res.data)\n                };\n            }\n        } else {\n            return {\n                success: false,\n                message: \"Network Error\"\n            };\n        }\n    } catch (error) {\n        return {\n            success: false,\n            message: error\n        };\n    }\n}\nconst signup = async (username, password, firstname, lastname, email)=>{\n    const formData = new FormData();\n    formData.append(\"operation\", \"signup\");\n    formData.append(\"json\", JSON.stringify({\n        username: username,\n        password: password,\n        firstname: firstname,\n        lastname: lastname,\n        email: email\n    }));\n    try {\n        const res = await (0,axios__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n            url: AUTH_ENDPOINT,\n            method: \"POST\",\n            data: formData\n        });\n        if (res.status === 200) {\n            if (res.data !== null && res.data.success) {\n                return {\n                    success: true,\n                    message: res.data.success\n                };\n            } else {\n                return {\n                    success: false,\n                    message: res.data.error\n                };\n            }\n        } else {\n            return {\n                success: false,\n                message: res.statusText\n            };\n        }\n    } catch (error) {\n        return {\n            success: false,\n            message: \"Seems like there is something wrong right now. Please try again later \"\n        };\n    }\n};\nasync function logout() {\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().set(\"session\", \"\", {\n        expires: new Date(0)\n    });\n}\nasync function getSession() {\n    const session = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)().get(\"session\")?.value;\n    if (!session) {\n        return null;\n    }\n    return await decrypt(session);\n}\nasync function updateSession(request) {\n    const session = request.cookies.get(\"session\")?.value;\n    if (!session) {\n        return null;\n    }\n    const parsedData = await decrypt(session);\n    parsedData.exp = new Date(Date.now() + 10 * 1000);\n    const res = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next();\n    res.cookies.set({\n        name: \"session\",\n        value: await encrpyt(parsedData),\n        httpOnly: true,\n        expires: parsedData.exp\n    });\n    return res;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QnpDLElBQUk3QixPQUFPLENBQUNtRCxHQUFHLENBQUM7UUFDZG9CLE1BQU07UUFDTk4sT0FBTyxNQUFNbEQsUUFBUXFEO1FBQ3JCZixVQUFVO1FBQ1ZELFNBQVNnQixXQUFXQyxHQUFHO0lBQ3pCO0lBRUEsT0FBT3hDO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL2xpYi5qcz8yOWY2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xyXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIm5leHQvaGVhZGVyc1wiO1xyXG5pbXBvcnQgeyBqd3RWZXJpZnksIFNpZ25KV1QgfSBmcm9tIFwiam9zZVwiO1xyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcclxuY29uc3QgQVVUSF9FTkRQT0lOVCA9IHByb2Nlc3MuZW52LkFVVEhfVVJMO1xyXG5cclxuY29uc3Qgc2VjcmV0S2V5ID0gcHJvY2Vzcy5lbnYuU0VDUkVUX0tFWTtcclxuY29uc3Qga2V5ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHNlY3JldEtleSk7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5jcnB5dChpdGVtKSB7XHJcbiAgcmV0dXJuIGF3YWl0IG5ldyBTaWduSldUKGl0ZW0pXHJcbiAgICAuc2V0UHJvdGVjdGVkSGVhZGVyKHsgYWxnOiBcIkhTMjU2XCIgfSlcclxuICAgIC5zZXRJc3N1ZWRBdCgpXHJcbiAgICAuc2V0RXhwaXJhdGlvblRpbWUoXCIxZFwiKVxyXG4gICAgLnNpZ24oa2V5KTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY3J5cHQoaW5wdXQpIHtcclxuICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGp3dFZlcmlmeShpbnB1dCwga2V5LCB7XHJcbiAgICBhbGdvcml0aG1zOiBbXCJIUzI1NlwiXSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHBheWxvYWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KEFVVEhfRU5EUE9JTlQsIHtcclxuICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgb3BlcmF0aW9uOiBcImxvZ2luXCIsXHJcbiAgICAgICAganNvbjogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgIGlmIChyZXMuZGF0YSAhPT0gbnVsbCAmJiByZXMuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7XHJcbiAgICAgICAgICBmaXJzdG5hbWU6IHJlcy5kYXRhLnN1Y2Nlc3MuZmlyc3RuYW1lLFxyXG4gICAgICAgICAgbGFzdG5hbWU6IHJlcy5kYXRhLnN1Y2Nlc3MubGFzdG5hbWUsXHJcbiAgICAgICAgICBlbWFpbDogcmVzLmRhdGEuc3VjY2Vzcy5lbWFpbCxcclxuICAgICAgICAgIHVzZXJuYW1lOiByZXMuZGF0YS5zdWNjZXNzLnVzZXJuYW1lLFxyXG4gICAgICAgICAgdXNlcl9pZDogcmVzLmRhdGEuc3VjY2Vzcy51c2VyX2lkLFxyXG4gICAgICAgICAgaW1hZ2U6IHJlcy5kYXRhLnN1Y2Nlc3MucHJvZmlsZV9pbWFnZSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBleHBpcmF0aW9uID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIDE1MCAqIDYwICogMTAwMCk7XHJcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGVuY3JweXQoeyB1c2VyOiB1c2VyRGF0YSwgZXhwaXJhdGlvbiB9KTtcclxuXHJcbiAgICAgICAgY29va2llcygpLnNldChcInNlc3Npb25cIiwgc2Vzc2lvbiwge1xyXG4gICAgICAgICAgZXhwaXJlczogZXhwaXJhdGlvbixcclxuICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIkxvZ2luIHN1Y2Nlc3NmdWxcIiB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSl9O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJOZXR3b3JrIEVycm9yXCIgfTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzaWdudXAgPSBhc3luYyAoXHJcbiAgdXNlcm5hbWUsXHJcbiAgcGFzc3dvcmQsXHJcbiAgZmlyc3RuYW1lLFxyXG4gIGxhc3RuYW1lLFxyXG4gIGVtYWlsXHJcbikgPT4ge1xyXG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgZm9ybURhdGEuYXBwZW5kKFwib3BlcmF0aW9uXCIsIFwic2lnbnVwXCIpO1xyXG4gIGZvcm1EYXRhLmFwcGVuZChcclxuICAgIFwianNvblwiLFxyXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICB1c2VybmFtZTogdXNlcm5hbWUsXHJcbiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcclxuICAgICAgZmlyc3RuYW1lOiBmaXJzdG5hbWUsXHJcbiAgICAgIGxhc3RuYW1lOiBsYXN0bmFtZSxcclxuICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgfSlcclxuICApO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3Moe1xyXG4gICAgICB1cmw6IEFVVEhfRU5EUE9JTlQsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICBpZiAocmVzLmRhdGEgIT09IG51bGwgJiYgcmVzLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEuc3VjY2VzcyxcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLmVycm9yLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogcmVzLnN0YXR1c1RleHQsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgIFwiU2VlbXMgbGlrZSB0aGVyZSBpcyBzb21ldGhpbmcgd3JvbmcgcmlnaHQgbm93LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIFwiLFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nb3V0KCkge1xyXG4gIGNvb2tpZXMoKS5zZXQoXCJzZXNzaW9uXCIsIFwiXCIsIHsgZXhwaXJlczogbmV3IERhdGUoMCkgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXNzaW9uKCkge1xyXG4gIGNvbnN0IHNlc3Npb24gPSBjb29raWVzKCkuZ2V0KFwic2Vzc2lvblwiKT8udmFsdWU7XHJcblxyXG4gIGlmICghc2Vzc2lvbikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXdhaXQgZGVjcnlwdChzZXNzaW9uKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNlc3Npb24ocmVxdWVzdCkge1xyXG4gIGNvbnN0IHNlc3Npb24gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KFwic2Vzc2lvblwiKT8udmFsdWU7XHJcblxyXG4gIGlmICghc2Vzc2lvbikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwYXJzZWREYXRhID0gYXdhaXQgZGVjcnlwdChzZXNzaW9uKTtcclxuXHJcbiAgcGFyc2VkRGF0YS5leHAgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgMTAgKiAxMDAwKTtcclxuXHJcbiAgY29uc3QgcmVzID0gTmV4dFJlc3BvbnNlLm5leHQoKTtcclxuXHJcbiAgcmVzLmNvb2tpZXMuc2V0KHtcclxuICAgIG5hbWU6IFwic2Vzc2lvblwiLFxyXG4gICAgdmFsdWU6IGF3YWl0IGVuY3JweXQocGFyc2VkRGF0YSksXHJcbiAgICBodHRwT25seTogdHJ1ZSxcclxuICAgIGV4cGlyZXM6IHBhcnNlZERhdGEuZXhwLFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcmVzO1xyXG59Il0sIm5hbWVzIjpbImNvb2tpZXMiLCJqd3RWZXJpZnkiLCJTaWduSldUIiwiTmV4dFJlcXVlc3QiLCJOZXh0UmVzcG9uc2UiLCJheGlvcyIsIkFVVEhfRU5EUE9JTlQiLCJwcm9jZXNzIiwiZW52IiwiQVVUSF9VUkwiLCJzZWNyZXRLZXkiLCJTRUNSRVRfS0VZIiwia2V5IiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJlbmNycHl0IiwiaXRlbSIsInNldFByb3RlY3RlZEhlYWRlciIsImFsZyIsInNldElzc3VlZEF0Iiwic2V0RXhwaXJhdGlvblRpbWUiLCJzaWduIiwiZGVjcnlwdCIsImlucHV0IiwicGF5bG9hZCIsImFsZ29yaXRobXMiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZXMiLCJnZXQiLCJwYXJhbXMiLCJvcGVyYXRpb24iLCJqc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsInN0YXR1cyIsImRhdGEiLCJzdWNjZXNzIiwidXNlckRhdGEiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsImVtYWlsIiwidXNlcl9pZCIsImltYWdlIiwicHJvZmlsZV9pbWFnZSIsImV4cGlyYXRpb24iLCJEYXRlIiwibm93Iiwic2Vzc2lvbiIsInVzZXIiLCJzZXQiLCJleHBpcmVzIiwiaHR0cE9ubHkiLCJtZXNzYWdlIiwiZXJyb3IiLCJzaWdudXAiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXJsIiwibWV0aG9kIiwic3RhdHVzVGV4dCIsImxvZ291dCIsImdldFNlc3Npb24iLCJ2YWx1ZSIsInVwZGF0ZVNlc3Npb24iLCJyZXF1ZXN0IiwicGFyc2VkRGF0YSIsImV4cCIsIm5leHQiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./lib/lib.js\n");

/***/ })

});